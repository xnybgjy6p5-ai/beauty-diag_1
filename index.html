<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾å®¹åŠ›å­¦ è¨ºæ–­ã‚·ãƒ¼ãƒˆ</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (for JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid #6366f1;
            cursor: pointer;
            margin-top: -6px; /* ãƒˆãƒ©ãƒƒã‚¯ã®ä¸­å¤®ã«åˆã‚ã›ã‚‹ */
        }
        input[type=range]::-moz-range-thumb {
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid #6366f1;
            cursor: pointer;
        }
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fade-in-up 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ã‚¢ã‚¤ã‚³ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ ---
        const IconBase = ({ children, className = "", ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" height="24" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const Sparkles = (props) => (
            <IconBase {...props}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
            </IconBase>
        );

        const AlertTriangle = (props) => (
            <IconBase {...props}>
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" />
                <path d="M12 9v4" />
                <path d="M12 17h.01" />
            </IconBase>
        );

        const User = (props) => (
            <IconBase {...props}>
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
            </IconBase>
        );

        const Activity = (props) => (
            <IconBase {...props}>
                <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
            </IconBase>
        );

        const Droplets = (props) => (
            <IconBase {...props}>
                <path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.8-2.29 3.75S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z" />
                <path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.58 3 2.5 3 5.5 3 7.4 0 2.76-2.24 5-5 5s-5-2.24-5-5c0-1.9 0-4.9 3-7.4.24-.2.52-.4.8-.62z" />
            </IconBase>
        );

        const CheckCircle2 = (props) => (
            <IconBase {...props}>
                <circle cx="12" cy="12" r="10" />
                <path d="m9 12 2 2 4-4" />
            </IconBase>
        );

        const MessageCircleQuestion = (props) => (
            <IconBase {...props}>
                <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z" />
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                <path d="M12 17h.01" />
            </IconBase>
        );

        const ClipboardList = (props) => (
            <IconBase {...props}>
                <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                <path d="M12 11h4" />
                <path d="M12 16h4" />
                <path d="M8 11h.01" />
                <path d="M8 16h.01" />
            </IconBase>
        );

        const AlertCircle = (props) => (
            <IconBase {...props}>
                <circle cx="12" cy="12" r="10" />
                <line x1="12" x2="12" y1="8" y2="12" />
                <line x1="12" x2="12.01" y1="16" y2="16" />
            </IconBase>
        );

        const FileText = (props) => (
            <IconBase {...props}>
                <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                <polyline points="14 2 14 8 20 8" />
                <path d="M16 13H8" />
                <path d="M16 17H8" />
                <path d="M10 9H8" />
            </IconBase>
        );

        const Download = (props) => (
            <IconBase {...props}>
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="7 10 12 15 17 10" />
                <line x1="12" x2="12" y1="15" y2="3" />
            </IconBase>
        );

        const Copy = (props) => (
            <IconBase {...props}>
                <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
            </IconBase>
        );
        
        const Check = (props) => (
            <IconBase {...props}>
                <polyline points="20 6 9 17 4 12" />
            </IconBase>
        );


        // --- ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª ---
        function App() {
            // 1. åŸºæœ¬å±æ€§
            const [userName, setUserName] = useState('');
            const [gender, setGender] = useState('');
            const [age, setAge] = useState('');

            // 2. è‚Œè³ªãƒ»ã‚±ã‚¢ç¿’æ…£ (è¤‡æ•°é¸æŠå¯)
            const [skinTypes, setSkinTypes] = useState([]);
            const [careItems, setCareItems] = useState([]);
            const [washHabits, setWashHabits] = useState([]);

            // 3. åŠ›å­¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ (0-10)
            const [sliders, setSliders] = useState({
                sting: 0, // ãƒ”ãƒªãƒ”ãƒª
                loss: 0,  // ã¤ã£ã±ã‚Š
                red: 0,   // èµ¤ã¿
                itch: 0   // ç—’ã¿
            });

            // 4. æ‚©ã¿ãƒ»å•†å“ãƒ‡ãƒ¼ã‚¿
            const [troubles, setTroubles] = useState('');
            const [productData, setProductData] = useState('');

            // è­¦å‘Šãƒ•ãƒ©ã‚°
            const [isCritical, setIsCritical] = useState(false);
            
            // ã‚³ãƒ”ãƒ¼çŠ¶æ…‹
            const [isCopied, setIsCopied] = useState(false);

            // é¸æŠè‚¢ãƒ‡ãƒ¼ã‚¿
            const skinTypeOptions = ['æ™®é€š', 'ä¹¾ç‡¥', 'è„‚æ€§', 'æ··åˆ', 'ã‚¢ãƒˆãƒ”ãƒ¼', 'æ•æ„Ÿ/éæ•'];
            const careItemOptions = ['å°å…¥æ¶²', 'åŒ–ç²§æ°´', 'ç¾å®¹æ¶²', 'ä¹³æ¶²', 'ã‚¯ãƒªãƒ¼ãƒ ', 'ã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³', 'ã‚ªã‚¤ãƒ«', 'UV', 'ã‚·ãƒ¼ãƒˆãƒã‚¹ã‚¯(æ¯æ—¥)'];
            const washHabitOptions = ['çŸ³ã‘ã‚“æ´—é¡”', 'æ´—é¡”ãƒ•ã‚©ãƒ¼ãƒ ', 'ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°', 'æ‹­ãå–ã‚Š'];

            // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–: ã„ãšã‚Œã‹ãŒ7ã‚’è¶…ãˆãŸã‚‰è­¦å‘Š
            useEffect(() => {
                const maxVal = Math.max(sliders.sting, sliders.loss, sliders.red, sliders.itch);
                setIsCritical(maxVal > 7);
            }, [sliders]);

            // é…åˆ—ã®ãƒˆã‚°ãƒ«å‡¦ç†
            const toggleSelection = (setter, list, item) => {
                if (list.includes(item)) {
                setter(list.filter(i => i !== item));
                } else {
                setter([...list, item]);
                }
            };

            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®æ›´æ–°
            const handleSliderChange = (e, key) => {
                setSliders({ ...sliders, [key]: parseInt(e.target.value) });
            };

            // è¨ºæ–­ãƒ†ã‚­ã‚¹ãƒˆã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
            const generateContent = () => {
                return `ã€ç¾å®¹åŠ›å­¦è¨ºæ–­ç”¨ãƒ‡ãƒ¼ã‚¿ã€‘
ãƒ¦ãƒ¼ã‚¶ãƒ¼å: ${userName || 'æœªå…¥åŠ›'} / å¹´é½¢: ${age || 'æœªå…¥åŠ›'} / æ€§åˆ¥: ${gender || 'æœªå…¥åŠ›'}

â–  åŠ›å­¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹(0-10)
Î›_sting(ãƒ”ãƒªãƒ”ãƒª): ${sliders.sting} ${sliders.sting > 7 ? '(ğŸš¨ è­¦å‘Š: é«˜)' : ''}
Î£_loss(ã¤ã£ã±ã‚Š): ${sliders.loss} ${sliders.loss > 7 ? '(ğŸš¨ è­¦å‘Š: é«˜)' : ''}
Î›_red(èµ¤ã¿): ${sliders.red} ${sliders.red > 7 ? '(ğŸš¨ è­¦å‘Š: é«˜)' : ''}
Î›_itch(ç—’ã¿): ${sliders.itch} ${sliders.itch > 7 ? '(ğŸš¨ è­¦å‘Š: é«˜)' : ''}

â–  ç¾åœ¨ã®è‚Œè³ª
${skinTypes.length > 0 ? skinTypes.join(', ') : 'æœªé¸æŠ'}

â–  ã‚±ã‚¢ç¿’æ…£
ä½¿ç”¨ã‚«ãƒ†ã‚´ãƒª: ${careItems.length > 0 ? careItems.join(', ') : 'æœªé¸æŠ'}
æ´—æµ„ç¿’æ…£: ${washHabits.length > 0 ? washHabits.join(', ') : 'æœªé¸æŠ'}
æ‚©ã¿: ${troubles || 'ç‰¹ã«ãªã—'}

â–  ä½¿ç”¨è£½å“è©³ç´°(CSVå½¢å¼ç­‰)
${productData || 'ãƒ‡ãƒ¼ã‚¿ãªã—'}

---

â– ã€AIè§£æç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€‘

1. æ¼”ç®—ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå†…éƒ¨æ€è€ƒï¼‰:
æç¤ºã•ã‚ŒãŸã€ŒåŠ›å­¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã¨ã€Œä½¿ç”¨è£½å“ã®æˆåˆ†ãƒ‡ãƒ¼ã‚¿ã€ã«åŸºã¥ãã€ç¾å®¹åŠ›å­¦å…¬å¼ã‚’ç”¨ã„ã¦ç¾åœ¨ã®è‚Œã®ç‰©ç†æ§‹é€ ã‚’åˆ†æã›ã‚ˆã€‚ç‰¹ã«ä»¥ä¸‹ã®å¤‰æ•°ã‚’å³å¯†ã«ç®—å‡ºã™ã‚‹ã“ã¨ã€‚
- Î£(ãƒãƒªã‚¢å¼·åº¦)ã®æ¯€æç‡
- Î›(ç´¯ç©ãƒ€ãƒ¡ãƒ¼ã‚¸)ã®è‡¨ç•Œçªç ´çŠ¶æ³ï¼ˆç‰¹ã«Î›_stingãŒ7ã‚’è¶…ãˆã¦ã„ã‚‹å ´åˆï¼‰
- Î”(æˆåˆ†ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«)ãŒç¾åœ¨ã®Î£ã«å¯¾ã—ã¦éå‰°ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ï¼‰ã§ã¯ãªã„ã‹

2. å‡ºåŠ›ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆãƒŠãƒ©ãƒ†ã‚£ãƒ–å¤‰æ›ï¼‰:
æ¼”ç®—çµæœã‚’ä»¥ä¸‹ã®ã€Œçµ¶å¯¾ãƒ«ãƒ¼ãƒ«ã€ã«å¾“ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ä¼ãˆã‚ˆã€‚

[çµ¶å¯¾ãƒ«ãƒ¼ãƒ«]
- ç‰©ç†çš„ç”¨èªã®ç¦æ­¢: ã€ŒÎ£ã€ã€ŒÎ›ã€ã€Œç•Œé¢æ´»æ€§å‰¤ã€ã€Œãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã€ç­‰ã®å°‚é–€ç”¨èªã¯ä¸€åˆ‡å‡ºã•ãªã„ã€‚
- æŸ”ã‚‰ã‹ã„å‹•è©ã¸ã®ç½®æ›: 
  Ã—ã€Œãƒãƒªã‚¢æ©Ÿèƒ½ãŒä½ä¸‹ã€â†’ â—‹ã€Œè‚Œã®å®ˆã‚ŠãŒè–„ããªã£ã¦ã€éš™é–“ãŒã§ãã¦ã„ã‚‹ã€
  Ã—ã€Œæˆåˆ†ãŒæµ¸é€ã€â†’ â—‹ã€Œæˆåˆ†ãŒè‚Œã®å¥¥ã¾ã§å…¥ã‚Šè¾¼ã¿ã™ãã¦ã„ã‚‹ã€
  Ã—ã€ŒÎ›ã®ç´¯ç©ã€â†’ â—‹ã€Œæ—¥ã€…ã®è² æ‹…ãŒæºœã¾ã£ã¦ã„ã‚‹ã€
- èªå½™ã®å‘è¿‘åŒ–: ä¸­å­¦ç”Ÿã§ã‚‚ã‚ã‹ã‚‹è¨€è‘‰ã‚’é¸ã³ã€ç†Ÿèªã®é€£ç™ºã‚’é¿ã‘ã‚‹ï¼ˆå›ºã„å°è±¡ã‚’ä¸ãˆãªã„ï¼‰ã€‚
- ä»‹å…¥ç­–ã®æç¤º: è‡¨ç•Œçªç ´ï¼ˆ7ä»¥ä¸Šï¼‰æ™‚ã¯ã€å„ªã—ãã€ã—ã‹ã—æ–­å›ºã¨ã—ã¦ã€Œä»Šã™ãã‚„ã‚ã‚‹ã¹ãã“ã¨ã€ã¨ã€Œå®ˆã‚‹ãŸã‚ã®å…·ä½“çš„ãªå‹•ãã€ã‚’æœ€å„ªå…ˆã§ä¼ãˆã‚‹ã“ã¨ã€‚

3. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®š:
ä¸å¯§ã ãŒæ°—ã•ãã§è¦ªã—ã¿ã‚„ã™ã„ã€é¦´æŸ“ã¿ã®ã‚³ã‚¹ãƒ¡åº—å“¡ï¼ˆç”·æ€§ï¼‰ã®ã‚ˆã†ãªãƒˆãƒ¼ãƒ³ã§ã€ç›¸æ‰‹ã«å¯„ã‚Šæ·»ã„ã¤ã¤çš„ç¢ºã«å°ãã“ã¨ã€‚
`;
            };

            // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
            const copyToClipboard = async () => {
                const text = generateContent();
                try {
                    await navigator.clipboard.writeText(text);
                    setIsCopied(true);
                    setTimeout(() => setIsCopied(false), 2500);
                } catch (err) {
                    alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
                }
            };

            // TXTãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            const downloadTxt = () => {
                const txtContent = generateContent();
                const blob = new Blob([txtContent], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `ç¾å®¹è¨ºæ–­_${userName || 'guest'}_${new Date().getTime()}.txt`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            };

            return (
                <div className="min-h-screen font-sans py-8 px-4 sm:px-6">
                <div className="max-w-4xl mx-auto">
                    {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
                    <header className="text-center mb-10">
                    <div className="inline-flex items-center justify-center p-3 bg-indigo-600 rounded-2xl shadow-lg mb-4">
                        <Sparkles className="w-8 h-8 text-white" />
                    </div>
                    <h1 className="text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight">
                        ç¾å®¹åŠ›å­¦ è¨ºæ–­ã‚·ãƒ¼ãƒˆ
                    </h1>
                    <p className="mt-2 text-slate-500">
                        è‚Œã®ç‰©ç†çš„çŠ¶æ…‹ï¼ˆåŠ›å­¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰ã‚’å¯è¦–åŒ–ã—ã€æœ€é©ãªã‚±ã‚¢ã‚’å°ãå‡ºã—ã¾ã™
                    </p>
                    </header>

                    {/* è­¦å‘Šè¡¨ç¤ºã‚¨ãƒªã‚¢ */}
                    {isCritical && (
                    <div className="mb-8 transform transition-all duration-500 ease-out animate-in slide-in-from-top-4">
                        <div className="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg shadow-sm flex items-start gap-3">
                        <AlertTriangle className="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" />
                        <div>
                            <h3 className="font-bold text-red-700">è­¦å‘Šï¼šãƒãƒªã‚¢è‡¨ç•Œçªç ´ã®å¯èƒ½æ€§</h3>
                            <p className="text-red-600 text-sm mt-1">
                            åŠ›å­¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãŒå±é™ºåŸŸï¼ˆ7ä»¥ä¸Šï¼‰ã«é”ã—ã¦ã„ã¾ã™ã€‚æ—©æ€¥ãªã‚±ã‚¢ã®è¦‹ç›´ã—ãŒå¿…è¦ã§ã™ã€‚
                            </p>
                        </div>
                        </div>
                    </div>
                    )}

                    <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100">
                    
                    {/* 1. åŸºæœ¬å±æ€§ */}
                    <section className="p-6 sm:p-8 border-b border-slate-100">
                        <div className="flex items-center gap-2 mb-6">
                        <User className="w-5 h-5 text-indigo-600" />
                        <h2 className="text-xl font-bold text-slate-800">1. åŸºæœ¬å±æ€§</h2>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="space-y-2">
                            <label className="text-sm font-medium text-slate-700">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                            <input 
                            type="text" 
                            className="w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
                            value={userName} 
                            onChange={e => setUserName(e.target.value)} 
                            placeholder="ä¾‹: Yamada" 
                            />
                        </div>
                        <div className="space-y-2">
                            <label className="text-sm font-medium text-slate-700">æ€§åˆ¥</label>
                            <select 
                            className="w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-white"
                            value={gender} 
                            onChange={e => setGender(e.target.value)}
                            >
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="å¥³æ€§">å¥³æ€§</option>
                            <option value="ç”·æ€§">ç”·æ€§</option>
                            <option value="ãã®ä»–">ãã®ä»–</option>
                            </select>
                        </div>
                        <div className="space-y-2">
                            <label className="text-sm font-medium text-slate-700">å¹´é½¢</label>
                            <input 
                            type="text" 
                            className="w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
                            value={age} 
                            onChange={e => setAge(e.target.value)} 
                            placeholder="ä¾‹: 30ä»£" 
                            />
                        </div>
                        </div>
                    </section>

                    {/* 2. åŠ›å­¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */}
                    <section className="p-6 sm:p-8 border-b border-slate-100 bg-slate-50/50">
                        <div className="flex items-center gap-2 mb-2">
                        <Activity className="w-5 h-5 text-indigo-600" />
                        <h2 className="text-xl font-bold text-slate-800">2. åŠ›å­¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ (0-10)</h2>
                        </div>
                        <p className="text-sm text-slate-500 mb-6 ml-7">ç¾åœ¨ã®è‚Œã®æ„Ÿè¦šã‚’ç›´æ„Ÿçš„ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                        {[
                            { key: 'sting', label: 'âš¡ ãƒ”ãƒªãƒ”ãƒª (Î›_sting)', color: 'text-yellow-600' },
                            { key: 'loss', label: 'ğŸŒµ ã¤ã£ã±ã‚Š (Î£_loss)', color: 'text-green-600' },
                            { key: 'red', label: 'ğŸ èµ¤ã¿ (Î›_red)', color: 'text-red-600' },
                            { key: 'itch', label: 'ğŸœ ç—’ã¿ (Î›_itch)', color: 'text-pink-600' }
                        ].map(item => {
                            const value = sliders[item.key];
                            const isHigh = value > 7;
                        
                            return (
                            <div key={item.key} className="relative group">
                                <div className="flex justify-between items-end mb-2">
                                <span className={`font-medium ${item.color} flex items-center gap-1`}>
                                    {item.label}
                                </span>
                                <span className={`text-2xl font-bold transition-colors ${isHigh ? 'text-red-600' : 'text-slate-700'}`}>
                                    {value}
                                </span>
                                </div>
                                
                                <div className="relative h-2 w-full bg-slate-200 rounded-full">
                                <div 
                                    className={`absolute top-0 left-0 h-full rounded-full transition-all duration-300 ${isHigh ? 'bg-red-500' : 'bg-indigo-500'}`}
                                    style={{ width: `${value * 10}%` }}
                                ></div>
                                <input 
                                    type="range" 
                                    min="0" max="10" 
                                    value={value} 
                                    onChange={(e) => handleSliderChange(e, item.key)}
                                    className="absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer z-10"
                                />
                                <div 
                                    className="absolute top-1/2 -mt-2 w-4 h-4 bg-white border-2 border-indigo-500 rounded-full shadow pointer-events-none transition-all duration-100"
                                    style={{ left: `calc(${value * 10}% - 8px)` }}
                                ></div>
                                </div>
                                
                                <div className="flex justify-between text-xs text-slate-400 mt-2 font-medium">
                                <span>ãªã— (0)</span>
                                <span>æœ€å¤§ (10)</span>
                                </div>
                            </div>
                            );
                        })}
                        </div>
                    </section>

                    {/* 3. è‚Œè³ªãƒ»ã‚±ã‚¢ç¿’æ…£ */}
                    <section className="p-6 sm:p-8 border-b border-slate-100">
                        <div className="flex items-center gap-2 mb-6">
                        <Droplets className="w-5 h-5 text-indigo-600" />
                        <h2 className="text-xl font-bold text-slate-800">3. è‚Œè³ªãƒ»ã‚±ã‚¢ç¿’æ…£</h2>
                        </div>
                        
                        <div className="space-y-6">
                        <div>
                            <div className="flex items-center gap-2 mb-3">
                            <span className="text-sm font-semibold text-slate-700 px-2 py-1 bg-slate-100 rounded">è‚Œè³ª</span>
                            <span className="text-xs text-slate-500">è¤‡æ•°é¸æŠå¯</span>
                            </div>
                            <div className="flex flex-wrap gap-2">
                            {skinTypeOptions.map(option => {
                                const isSelected = skinTypes.includes(option);
                                return (
                                <button 
                                    key={option} 
                                    onClick={() => toggleSelection(setSkinTypes, skinTypes, option)}
                                    className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-1.5
                                    ${isSelected 
                                        ? 'bg-blue-500 text-white shadow-md shadow-blue-200 ring-2 ring-blue-200' 
                                        : 'bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300'
                                    }`}
                                >
                                    {isSelected && <CheckCircle2 className="w-3.5 h-3.5" />}
                                    {option}
                                </button>
                                );
                            })}
                            </div>
                        </div>

                        <div>
                            <div className="flex items-center gap-2 mb-3">
                            <span className="text-sm font-semibold text-slate-700 px-2 py-1 bg-slate-100 rounded">ç¾åœ¨ã®ã‚±ã‚¢</span>
                            <span className="text-xs text-slate-500">è¤‡æ•°é¸æŠå¯</span>
                            </div>
                            <div className="flex flex-wrap gap-2">
                            {careItemOptions.map(option => {
                                const isSelected = careItems.includes(option);
                                return (
                                <button 
                                    key={option} 
                                    onClick={() => toggleSelection(setCareItems, careItems, option)}
                                    className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-1.5
                                    ${isSelected 
                                        ? 'bg-emerald-500 text-white shadow-md shadow-emerald-200 ring-2 ring-emerald-200' 
                                        : 'bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300'
                                    }`}
                                >
                                    {isSelected && <CheckCircle2 className="w-3.5 h-3.5" />}
                                    {option}
                                </button>
                                );
                            })}
                            </div>
                        </div>

                        <div>
                            <div className="flex items-center gap-2 mb-3">
                            <span className="text-sm font-semibold text-slate-700 px-2 py-1 bg-slate-100 rounded">æ´—æµ„ç¿’æ…£</span>
                            <span className="text-xs text-slate-500">è¤‡æ•°é¸æŠå¯</span>
                            </div>
                            <div className="flex flex-wrap gap-2">
                            {washHabitOptions.map(option => {
                                const isSelected = washHabits.includes(option);
                                return (
                                <button 
                                    key={option} 
                                    onClick={() => toggleSelection(setWashHabits, washHabits, option)}
                                    className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-1.5
                                    ${isSelected 
                                        ? 'bg-violet-500 text-white shadow-md shadow-violet-200 ring-2 ring-violet-200' 
                                        : 'bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300'
                                    }`}
                                >
                                    {isSelected && <CheckCircle2 className="w-3.5 h-3.5" />}
                                    {option}
                                </button>
                                );
                            })}
                            </div>
                        </div>
                        </div>
                    </section>

                    {/* 4. æ‚©ã¿ãƒ»è³ªå• */}
                    <section className="p-6 sm:p-8 border-b border-slate-100">
                        <div className="flex items-center gap-2 mb-4">
                        <MessageCircleQuestion className="w-5 h-5 text-indigo-600" />
                        <h2 className="text-xl font-bold text-slate-800">4. æ‚©ã¿ãƒ»è³ªå•</h2>
                        </div>
                        <textarea 
                        className="w-full border border-slate-200 rounded-xl p-4 min-h-[120px] focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400" 
                        placeholder="ä¾‹: æœ€è¿‘â—‹â—‹ã‚’ä½¿ã„å§‹ã‚ã¦ã‹ã‚‰ä¹¾ç‡¥ãŒã²ã©ãã€åŒ–ç²§æ°´ãŒã—ã¿ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚"
                        value={troubles}
                        onChange={e => setTroubles(e.target.value)}
                        ></textarea>
                    </section>

                    {/* 5. å•†å“ãƒ‡ãƒ¼ã‚¿ */}
                    <section className="p-6 sm:p-8 bg-slate-50/50">
                        <div className="flex items-center gap-2 mb-2">
                        <ClipboardList className="w-5 h-5 text-indigo-600" />
                        <h2 className="text-xl font-bold text-slate-800">5. å•†å“ãƒ‡ãƒ¼ã‚¿ (ãƒšãƒ¼ã‚¹ãƒˆã‚¨ãƒªã‚¢)</h2>
                        </div>
                        <div className="flex items-start gap-2 mb-4 text-sm text-slate-500 bg-white p-3 rounded-lg border border-slate-200">
                        <AlertCircle className="w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0" />
                        <span>å‰æ®µã®ã‚·ã‚¹ãƒ†ãƒ ã§å‡ºåŠ›ã•ã‚ŒãŸæˆåˆ†ãƒ»è£½å“æƒ…å ±ã‚’ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</span>
                        </div>
                        <textarea 
                        className="w-full border border-slate-200 rounded-xl p-4 min-h-[150px] font-mono text-sm bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400" 
                        placeholder="è£½å“å,ã‚«ãƒ†ã‚´ãƒª,ä¸»ãªæˆåˆ†,URL&#10;..."
                        value={productData}
                        onChange={e => setProductData(e.target.value)}
                        ></textarea>
                    </section>

                    {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */}
                    <div className="p-8 text-center bg-white">
                        <div className="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            
                            {/* ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ */}
                            <button 
                                onClick={copyToClipboard}
                                className={`group relative inline-flex items-center justify-center gap-2 font-bold py-4 px-8 rounded-full shadow-lg transform transition-all duration-200 active:scale-[0.98] w-full sm:w-auto
                                ${isCopied 
                                    ? 'bg-green-500 text-white ring-4 ring-green-200' 
                                    : 'bg-white border-2 border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300'
                                }`}
                            >
                                {isCopied ? <Check className="w-5 h-5" /> : <Copy className="w-5 h-5" />}
                                <span>{isCopied ? 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼' : 'ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼'}</span>
                            </button>

                            {/* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ */}
                            <button 
                                onClick={downloadTxt}
                                className="group relative inline-flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-12 rounded-full shadow-xl shadow-indigo-200 transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] w-full sm:w-auto"
                            >
                                <Download className="w-5 h-5" />
                                <span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ (.txt)</span>
                            </button>
                        </div>
                        <p className="text-xs text-slate-400 mt-6">
                            â€»ç”Ÿæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’Geminiã®ãƒãƒ£ãƒƒãƒˆæ¬„ã«è²¼ã‚Šä»˜ã‘ã¦é€ä¿¡ã—ã¦ãã ã•ã„
                        </p>
                    </div>

                    </div>
                    
                    <footer className="mt-12 text-center text-slate-400 text-sm">
                    &copy; {new Date().getFullYear()} Beauty Diagnostics. All rights reserved.
                    </footer>
                </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>